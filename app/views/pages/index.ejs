<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Organic Plant - Premium Organic Delivery</title>
    <link rel="stylesheet" href="css/dop.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="icon" href="/imagens/logo  dop 2.png" type="image/x-icon">

</head>
<body>
    <header class="main-header">
        <nav class="nav-container" aria-label="Menu principal">
            <section class="logo-section">
                <h1 class="brand-logo">
                    <img src="imagens/dopimg.png" alt="DOP Logo" class="logo-image">
                    <span class="logo-text"></span>
                </h1>
            </section>

            <section class="search-section">
                <form class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="Buscar produtos...">
                    <button type="button" class="search-btn" onclick="buscarProdutos()">
                        <span class="search-icon">üîç</span>
                    </button>
                </form>
            </section>
 
            <section class="header-controls">
                <a href="/carrinho" class="cart-icon" title="Carrinho de compras">
                    <span>üõí</span>
                    <span id="cart-count" class="cart-count">0</span>
                </a>
                <button id="toggle-dark" class="theme-toggle" aria-pressed="false" aria-label="Alternar tema">
                    <span class="theme-icon">üåô</span>
                </button>
               
                <button class="mobile-menu" aria-label="Abrir menu" aria-expanded="false">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </section>
        </nav>

        <nav class="bottom-nav" aria-label="Menu de navega√ß√£o">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="/" class="nav-link" title="P√°gina inicial">
                        <span class="nav-icon">üè†</span>
                        <span class="nav-text">In√≠cio</span>
                    </a>
                </li>
                <li class="nav-item">
                    <% if (usuario) { %>
                        <a href="/conta" class="nav-link" title="Sua conta">
                            <span class="nav-icon">üë§</span>
                            <span class="nav-text">Ol√°, <%= usuario.nome.split(' ')[0] %></span>
                        </a>
                    <% } else { %>
                        <a href="#" id="btn-conta" class="nav-link" title="Sua conta">
                            <span class="nav-icon">üë§</span>
                            <span class="nav-text">Conta</span>
                        </a>
                    <% } %>
                </li>
                <li class="nav-item">
                    <a href="/assinatura" class="nav-link" title="Assinatura de Boxes">
                        <span class="nav-icon">üì¶</span>
                        <span class="nav-text">Boxes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/vendedores" class="nav-link" title="√Årea do Vendedor">
                        <span class="nav-icon">üå±</span>
                        <span class="nav-text">Vendedores</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/calendario" class="nav-link" title="Calend√°rio de entregas">
                        <span class="nav-icon">üìÖ</span>
                        <span class="nav-text">Calend√°rio</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/favoritos" class="nav-link" title="Produtos favoritos">
                        <span class="nav-icon">‚ù§Ô∏è</span>
                        <span class="nav-text">Favoritos</span>
                    </a>
                </li>

                <% if (usuario) { %>
                <li class="nav-item">
                    <a href="/logout" class="nav-link" title="Sair">
                        <span class="nav-icon">üö™</span>
                        <span class="nav-text">Sair</span>
                    </a>
                </li>
                <% } %>
            </ul>
        </nav>
    </header>
 
    <main class="main-content">
        <section class="hero-section" aria-label="Carrossel promocional">
            <article class="carousel-wrapper">
                <button class="carousel-arrow carousel-prev" id="prev-slide" aria-label="Slide anterior">
                    <span class="arrow-icon">‚Äπ</span>
                </button>
               
                <section class="carousel-container">
                    <ul class="carousel-track">
                        <li class="carousel-slide active">
                            <picture class="slide-content">
                                <h2 class="slide-title">Produtos Org√¢nicos Premium</h2>
                                <p class="slide-subtitle">Sele√ß√£o exclusiva de produtos org√¢nicos certificados</p>
                            </picture>
                        </li>
                        <li class="carousel-slide">
                            <picture class="slide-content">
                                <h2 class="slide-title">Entrega R√°pida e Segura</h2>
                                <p class="slide-subtitle">Receba seus produtos frescos em casa</p>
                            </picture>
                        </li>
                        <li class="carousel-slide">
                            <picture class="slide-content">
                                <h2 class="slide-title">Qualidade Garantida</h2>
                                <p class="slide-subtitle">100% org√¢nico, 100% fresco, 100% saud√°vel</p>
                            </picture>
                        </li>
                    </ul>
                </section>
               
                <button class="carousel-arrow carousel-next" id="next-slide" aria-label="Pr√≥ximo slide">
                    <span class="arrow-icon">‚Ä∫</span>
                </button>
            </article>
        </section>
 
        <section class="offers-section">
            <header class="section-header">
                <h2 class="section-title">Ofertas Selecionadas</h2>
                <p class="section-subtitle">Produtos premium com pre√ßos especiais</p>
            </header>
 
            <article class="products-grid">
                <% if (produtos && produtos.length > 0) { %>
                    <% produtos.forEach(produto => { %>
                        <section class="product-card">
                            <a href="/produto/<%= produto.id_prod %>" class="product-link" title="<%= produto.nome_prod %>">
                                <figure class="product-image">
                                    <% if (produto.nome_imagem) { %>
                                        <img src="imagens/<%= produto.nome_imagem %>" alt="<%= produto.nome_prod %>" class="product-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <% } else { %>
                                        <img src="imagens/<%= produto.nome_prod.toLowerCase() %>.png" alt="<%= produto.nome_prod %>" class="product-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <% } %>
                                    <div class="product-placeholder" style="display:none; width:100%; height:200px; background:#f0f0f0; align-items:center; justify-content:center; font-size:48px; color:#ccc;">üì¶</div>
                                    <figcaption class="product-badge">Org√¢nico</figcaption>
                                </figure>
                                <header class="product-info">
                                    <h3 class="product-name"><%= produto.nome_prod %></h3>
                                    <p class="product-description">Estoque: <%= produto.qtde_estoque %></p>
                                    <span class="product-price">R$ <%= parseFloat(produto.valor_unitario || 0).toFixed(2).replace('.', ',') %></span>
                                </header>
                            </a>
                            <button class="quick-add-btn" onclick="adicionarAoCarrinho(<%= produto.id_prod %>, '<%= produto.nome_prod %>', <%= produto.valor_unitario %>)" style="position:absolute; bottom:10px; right:10px; background:#4CAF50; color:white; border:none; padding:8px; border-radius:50%; cursor:pointer;">+</button>
                        </section>
                    <% }); %>
                <% } else { %>
                    <section class="no-products">
                        <p>Nenhum produto dispon√≠vel no momento.</p>
                        <p>Vendedores podem adicionar produtos no painel.</p>
                    </section>
                <% } %>
            </article>
 
            <footer class="section-footer">
                <a href="/assinatura" class="view-more-btn" title="Assinar Boxes Org√¢nicos" style="background: linear-gradient(135deg, var(--accent-gold), #e6940a); margin-right: var(--spacing-md);">
                    <span class="btn-text">üì¶ Assinar Boxes</span>
                    <span class="btn-icon">‚Üí</span>
                </a>
                <a href="/ver-produtos" class="view-more-btn" title="Ver todos os produtos">
                    <span class="btn-text">Ver Mais Produtos</span>
                    <span class="btn-icon">‚Üí</span>
                </a>
            </footer>
        </section>
    </main>
 
    <footer class="main-footer">
        <p class="footer-text">&copy; 2024 Delivery Organic Plant. Todos os direitos reservados.</p>
    </footer>
 
    <script>
        // Dados do usu√°rio vindos do servidor
        window.usuario = <%- JSON.stringify(usuario) %>;
    </script>
    <script src="js/inicio.js"></script>
</body>
</html>